<!doctype html>
<html lang="kk">
<head>
  <meta charset="UTF-8">

  <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
  <title>–ï—Ä–∞—Å—ã–ª –ñ–∞–Ω—ç–ª—å “Ø–π–ª–µ–Ω—É —Ç–æ–π—ã</title>
  <meta property="og:title" content="–ï—Ä–∞—Å—ã–ª –ñ–∞–Ω—ç–ª—å “Ø–π–ª–µ–Ω—É —Ç–æ–π—ã">

  <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
  <meta name="description" content="–ï—Ä–∞—Å—ã–ª –º–µ–Ω –ñ–∞–Ω—ç–ª—å–¥—ñ“£ “Ø–π–ª–µ–Ω—É —Ç–æ–π—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —à–∞“õ—ã—Ä—É –±–∏–ª–µ—Ç—ñ">
  <meta property="og:description" content="–ï—Ä–∞—Å—ã–ª –º–µ–Ω –ñ–∞–Ω—ç–ª—å–¥—ñ“£ “Ø–π–ª–µ–Ω—É —Ç–æ–π—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω —à–∞“õ—ã—Ä—É –±–∏–ª–µ—Ç—ñ">

  <!-- –°—Å—ã–ª–∫–∞ -->
  <meta property="og:url" content="https://er98asul-tech.github.io/yerassylzhanel/">
  <meta property="og:type" content="website">

  <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞ –ø—Ä–µ–≤—å—é -->
  <meta property="og:image" content="https://er98asul-tech.github.io/yerassylzhanel/preview.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
</head>
 <style>
    :root {
      --primary: #3e2723;
      --secondary: #5d4037;
      --accent: #8d6e63;
      --gold: #D4AF37;
      --glass: rgba(255, 255, 255, 0.92);
      --radius: 24px;
      --rich-gradient: linear-gradient(135deg, #fffdf5 0%, #ffecb3 100%);
    }

    * { box-sizing: border-box; }
    
    body {
      margin: 0;
      color: var(--primary);
      font-family: 'Raleway', sans-serif;
      background-image: url('2.jpg');
      background-color: #d7ccc8;
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      min-height: 100vh;
    }

    body::before {
      content: ''; position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(3px); z-index: -2;
    }

    .wrap {
      max-width: 600px; margin: 0 auto;
      padding: 40px 20px 100px; position: relative; z-index: 1;
    }

    .card {
      background: var(--glass);
      border-radius: var(--radius);
      box-shadow: 0 10px 30px rgba(62, 39, 35, 0.15);
      margin-bottom: 30px;
      overflow: hidden;
      text-align: center;
      transition: transform 0.3s ease;
      position: relative;
      opacity: 0; transform: translateY(30px);
    }
    
    .card.visible {
      opacity: 1; transform: translateY(0);
      transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    }

    header .names {
      font-family: 'Great Vibes', cursive;
      font-size: clamp(22px, 10vw, 75px);
      line-height: 1.2;
      margin: 10px 0;
      background: linear-gradient(to right, #3e2723, #8d6e63);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      color: #3e2723;
    }
    header .sub { font-family: 'Raleway', sans-serif; color: #5d4037; letter-spacing: 4px; font-weight: 600; text-transform: uppercase; font-size: 14px;}

    .fancy-date {
      font-family: 'Playfair Display', serif;
      font-size: 28px; font-weight: 700; margin-top: 20px;
      background: linear-gradient(to right, #3e2723, #8d6e63);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0px 2px 2px rgba(0,0,0,0.1));
      letter-spacing: 1px;
    }

    .rich-block {
      background: var(--rich-gradient) !important;
      border: 2px solid #fff;
      box-shadow: 0 15px 40px rgba(212, 175, 55, 0.25);
      position: relative;
    }
    .rich-block .inner { font-family: 'Noto Sans', sans-serif; color: #4e342e; }
    .rich-block h2.h {
      font-family: 'Noto Serif', serif; color: #3e2723;
      font-weight: 700; border-bottom-color: var(--gold);
    }
    .h::after {
      content: ''; display: block; width: 60px; height: 3px;
      background: var(--gold); margin: 8px auto 0; border-radius: 2px;
    }
    .rich-block::before {
      content: ''; position: absolute;
      top: 12px; left: 12px; right: 12px; bottom: 12px;
      border: 1px dashed rgba(212, 175, 55, 0.5);
      border-radius: 18px; pointer-events: none;
    }

    .corner-heart {
        position: absolute; font-size: 16px; color: #d32f2f;
        opacity: 0.7; z-index: 10;
        animation: heartCornerBeat 2s infinite ease-in-out;
    }
    .ch-tl { top: 15px; left: 15px; } .ch-tr { top: 15px; right: 15px; }
    .ch-bl { bottom: 15px; left: 15px; } .ch-br { bottom: 15px; right: 15px; }
    @keyframes heartCornerBeat { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }

    .calendar-wrap { margin-top: 15px; }
    .cal-header {
      font-family: 'Noto Serif', serif;
      font-weight: bold; font-size: 18px;
      color: #3e2723; margin-bottom: 10px;
      text-transform: uppercase;
    }
    .cal-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      max-width: 320px;
      margin: 0 auto;
    }
    .cal-day-name {
      font-size: 12px; color: #8d6e63; font-weight: bold;
      padding-bottom: 5px;
    }
    .cal-day {
      height: 36px; display: flex; align-items: center; justify-content: center;
      font-size: 14px; border-radius: 50%; color: #4e342e;
    }
    .cal-day.marked {
      background: #5d4037; color: white;
      font-weight: bold; position: relative;
      box-shadow: 0 4px 10px rgba(93, 64, 55, 0.3);
    }
    .cal-day.marked::after {
      content: '‚ù§'; position: absolute;
      top: -6px; right: -6px; font-size: 12px; color: #d32f2f;
    }

    .photo-frame {
      position: relative; width: 200px; height: 200px; margin: 20px auto;
    }
    .round-photo {
        width: 100%; height: 100%; object-fit: cover;
        border-radius: 50%; border: 4px solid white;
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }
    .photo-frame::before {
      content: ''; position: absolute;
      top: -10px; left: -10px; right: -10px; bottom: -10px;
      border-radius: 50%; border: 2px dashed var(--gold);
      animation: spin 20s linear infinite; z-index: -1;
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    .btn {
      display: block; width: 100%; padding: 16px;
      text-align: center; border-radius: 50px;
      text-decoration: none; font-weight: 600;
      cursor: pointer; border: none; margin-top: 15px;
      transition: all 0.3s; font-size: 16px;
      font-family: 'Noto Sans', sans-serif;
      text-transform: uppercase; letter-spacing: 1px;
    }
    .btn.primary { 
        background: linear-gradient(135deg, #5d4037 0%, #3e2723 100%);
        color: white; 
        box-shadow: 0 5px 15px rgba(62, 39, 35, 0.3);
    }
    .btn.primary:hover { transform: translateY(-2px); background: #4e342e; }
    
    .btn.secondary { 
        background: rgba(255,255,255,0.8); color: #5d4037; border: 1px solid #8d6e63;
        width: auto; display: inline-block; padding: 10px 30px; font-size: 13px;
    }

    .inner { padding: 35px 25px; }

    .countdown { display: flex; gap: 8px; margin-top: 20px; justify-content: center; }
    .cd-item { 
      flex: 1; background: white; padding: 10px 5px; 
      border-radius: 12px; border: 1px solid #d7ccc8;
    }
    .cd-num { font-size: 24px; font-weight: bold; font-family: 'Noto Serif', serif; color: #3e2723; }
    .cd-lbl { font-size: 10px; text-transform: uppercase; color: #8d6e63; margin-top: 2px;}

    .form { display:grid; gap:15px; margin-top:20px; text-align:left; }
    .field label { font-size:14px; font-weight: 600; color:#4e342e; margin-bottom:8px; display: block; font-family: 'Noto Sans', sans-serif;}
    .field input[type="text"] {
      width:100%; padding:15px; border-radius:15px;
      border: 1px solid #bcaaa4; background: white;
      font-family: 'Noto Sans', sans-serif;
    }
    .choices { background: white; padding: 15px; border-radius: 15px; border: 1px solid #d7ccc8; }
    .choice { display:flex; gap:10px; align-items:center; margin-bottom: 10px; cursor: pointer; font-family: 'Noto Sans', sans-serif;}
    input[type="radio"]:checked { border-color: var(--gold); background-color: var(--gold); }

    .toast {
      display:none; margin-top:15px; padding:15px; border-radius:15px;
      background: #E8F5E9; border:1px solid #C8E6C9;
      color: #2E7D32; text-align:center; font-weight: 600; font-family: 'Noto Sans', sans-serif;
    }
    .toast.show { display:block; animation: popIn 0.5s; }
    @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    .heart-beat { display: inline-block; animation: heartbeat 1.5s infinite; color: #d32f2f; }
    @keyframes heartbeat { 0% { transform: scale(1); } 14% { transform: scale(1.3); } 28% { transform: scale(1); } 42% { transform: scale(1.3); } 70% { transform: scale(1); } }

    #petals-container {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 0; overflow: hidden;
    }
    .petal {
      position: absolute;
      background: rgba(255, 248, 225, 0.7);
      border-radius: 150% 0 150% 0;
      animation: falling 10s linear infinite;
    }
    @keyframes falling {
      0% { transform: translate(0, -10vh) rotate(0deg); opacity: 0; }
      20% { opacity: 0.8; }
      100% { transform: translate(100px, 110vh) rotate(360deg); opacity: 0; }
    }

    footer {
      font-family: 'Great Vibes', cursive;
      font-size: 24px; opacity: 0.8; margin-top: 30px; color: #3e2723;
    }
  </style>
</head>
<body>

<div id="petals-container"></div>

<main class="wrap">
  
  <header class="card scroll-anim" style="padding: 50px 20px;">
    <p class="sub">–®–∞“õ—ã—Ä—É –±–∏–ª–µ—Ç—ñ</p>
    <h1 class="names">–ï—Ä–∞—Å—ã–ª<span class="heart">‚ù§</span>–ñ–∞–Ω—ç–ª—å</h1>
    
    <div class="photo-frame">
      <img src="1.jpg" onerror="this.src='https://images.unsplash.com/photo-1515934751635-c81c6bc9a2d8?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60'" alt="–ñ“±–ø—Ç—ã“£ —Å—É—Ä–µ—Ç—ñ" class="round-photo">
    </div>
    
    <div style="margin-top: 25px;">
        <audio id="bgm" loop>
            <source src="music.mp3" type="audio/mpeg">
        </audio>
        <button id="musicBtn" class="btn secondary">
           üéµ ”ò—É–µ–Ω–¥—ñ “õ–æ—Å—É
        </button>
    </div>

    <div class="fancy-date">
       ‚ù£  04.07.2026  ‚ù£ 
    </div>
  </header>

  <section class="card scroll-anim rich-block">
    <div class="corner-heart ch-tl">‚ù§</div>
    <div class="corner-heart ch-tr">‚ù§</div>
    <div class="corner-heart ch-bl">‚ù§</div>
    <div class="corner-heart ch-br">‚ù§</div>

    <div class="inner">
      <h2 class="h">“ö“±—Ä–º–µ—Ç—Ç—ñ “õ–æ–Ω–∞“õ—Ç–∞—Ä!</h2>
      <p style="line-height: 1.8; font-size: 17px;">
        “∞–ª—ã–º—ã–∑ –ï—Ä–∞—Å—ã–ª –º–µ–Ω –∫–µ–ª—ñ–Ω—ñ–º—ñ–∑ –ñ–∞–Ω—ç–ª—å–¥—ñ“£ “Ø–π–ª–µ–Ω—É —Ç–æ–π—ã–Ω–∞ –∞—Ä–Ω–∞–ª“ì–∞–Ω –∞“õ –¥–∞—Å—Ç–∞—Ä—Ö–∞–Ω—ã–º—ã–∑“ì–∞ —Å—ñ–∑(–¥–µ—Ä)–¥—ñ —ñ–∑–≥—ñ –Ω–∏–µ—Ç–ø–µ–Ω —à–∞“õ—ã—Ä–∞–º—ã–∑.<br>
        <span class="heart-beat">‚ù§</span>      
      </p>
    </div>
  </section>

  <section class="card scroll-anim rich-block">
    <div class="corner-heart ch-tl">‚ù§</div>
    <div class="corner-heart ch-tr">‚ù§</div>
    <div class="corner-heart ch-bl">‚ù§</div>
    <div class="corner-heart ch-br">‚ù§</div>

    <div class="inner">
      <h2 class="h">–¢–æ–π –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä—ñ</h2>
      <p style="font-size: 20px; margin-bottom: 5px; font-weight: bold; color: #3e2723;">4 —à—ñ–ª–¥–µ 2026</p>
      <p style="color: #5d4037; margin-bottom: 25px;">–ë–∞—Å—Ç–∞–ª—É—ã 18:00</p>
      
      <div style="margin: 20px 0;">
        <p style="font-size: 20px; margin-bottom: 5px; font-weight: bold; color: #3e2723;">üìç ¬´–ë–∞—Ç—ã—Ä¬ª –º–µ–π—Ä–∞–º—Ö–∞–Ω–∞—Å—ã</p>
        <p style="color: #5d4037; font-size: 15px;">–ê–ª–º–∞—Ç—ã –æ–±–ª—ã—Å—ã, “∞–∑—ã–Ω–∞“ì–∞—à –∞—É—ã–ª—ã<br>–¢–æ“õ“õ“±–ª–æ–≤ –∫”©—à–µ—Å—ñ, 17–ë</p>
      </div>
      
      <a href="https://go.2gis.com/gY1G1" target="_blank" rel="noopener noreferrer" class="btn primary">üó∫Ô∏è –ö–∞—Ä—Ç–∞–¥–∞–Ω –∞—à—É (2GIS)</a>
    </div>
  </section>

  <section class="card scroll-anim rich-block">
    <div class="corner-heart ch-tl">‚ù§</div>
    <div class="corner-heart ch-tr">‚ù§</div>
    <div class="corner-heart ch-bl">‚ù§</div>
    <div class="corner-heart ch-br">‚ù§</div>

    <div class="inner">
      <p style="margin-bottom: 15px; font-size: 18px;">–¢–æ–π –∏–µ—Å—ñ: <strong style="color: #3e2723;">–ê–Ω–∞—Å—ã ‚Äî –†–∞–π—Ö–∞–Ω</strong></p>
      <hr style="border: 0; border-top: 1px dashed #8d6e63; opacity: 0.5; margin: 20px 0;">
      <p style="font-size: 13px; text-transform: uppercase; letter-spacing: 2px;">–¢–æ–π“ì–∞ –¥–µ–π—ñ–Ω “õ–∞–ª–¥—ã:</p>
      <div class="countdown" id="countdown"></div>
    </div>
  </section>

  <section class="card scroll-anim rich-block">
    <div class="corner-heart ch-tl">‚ù§</div>
    <div class="corner-heart ch-tr">‚ù§</div>
    <div class="corner-heart ch-bl">‚ù§</div>
    <div class="corner-heart ch-br">‚ù§</div>

    <div class="inner">
      <h2 class="h">–ù–∞–∑–∞—Ä –∞—É–¥–∞—Ä—ã“£—ã–∑!</h2>
      <p style="font-size: 16px; line-height: 1.6; color: #4e342e;">
         “ö“±—Ä–º–µ—Ç—Ç—ñ “õ–æ–Ω–∞“õ—Ç–∞—Ä! 

–¢–æ–π—ã–º—ã–∑–¥—ã“£ —Ñ–æ—Ä–º–∞—Ç—ã–Ω–∞ –∂”ô–Ω–µ –±–∞—Ä—à–∞ “õ–æ–Ω–∞“õ—Ç—ã“£ –∂–∞–π–ª—ã–ª—ã“ì—ã “Ø—à—ñ–Ω –±–∞–ª–∞—Å—ã–∑ –∫–µ–ª—É—ñ“£—ñ–∑–¥—ñ —Å“±—Ä–∞–π–º—ã–∑. 

–¢“Ø—Å—ñ–Ω—ñ—Å—Ç—ñ–∫ —Ç–∞–Ω—ã—Ç“õ–∞–Ω–¥–∞—Ä—ã“£—ã–∑“ì–∞ –∫”©–ø —Ä–∞“õ–º–µ—Ç!
      </p>
    </div>
  </section>

  <section class="card scroll-anim rich-block">
    <div class="corner-heart ch-tl">‚ù§</div>
    <div class="corner-heart ch-tr">‚ù§</div>
    <div class="corner-heart ch-bl">‚ù§</div>
    <div class="corner-heart ch-br">‚ù§</div>

    <div class="inner">
      <h2 class="h">–¢–æ–π –∫“Ø–Ω—ñ</h2>
      <div class="calendar-wrap">
        <div class="cal-header">–®—ñ–ª–¥–µ 2026</div>
        <div class="cal-grid">
          <div class="cal-day-name">–î—Å</div>
          <div class="cal-day-name">–°—Å</div>
          <div class="cal-day-name">–°—Ä</div>
          <div class="cal-day-name">–ë—Å</div>
          <div class="cal-day-name">–ñ–º</div>
          <div class="cal-day-name">–°–Ω</div>
          <div class="cal-day-name">–ñ—Å</div>
          
          <div class="cal-day"></div> <div class="cal-day"></div> <div class="cal-day">1</div>
          <div class="cal-day">2</div>
          <div class="cal-day">3</div>
          <div class="cal-day marked">4</div> <div class="cal-day">5</div>
          <div class="cal-day">6</div>
          <div class="cal-day">7</div>
          <div class="cal-day">8</div>
          <div class="cal-day">9</div>
          <div class="cal-day">10</div>
          <div class="cal-day">11</div>
          <div class="cal-day">12</div>
          <div class="cal-day">13</div>
          <div class="cal-day">14</div>
          <div class="cal-day">15</div>
          <div class="cal-day">16</div>
          <div class="cal-day">17</div>
          <div class="cal-day">18</div>
          <div class="cal-day">19</div>
          <div class="cal-day">20</div>
          <div class="cal-day">21</div>
          <div class="cal-day">22</div>
          <div class="cal-day">23</div>
          <div class="cal-day">24</div>
          <div class="cal-day">25</div>
          <div class="cal-day">26</div>
          <div class="cal-day">27</div>
          <div class="cal-day">28</div>
          <div class="cal-day">29</div>
          <div class="cal-day">30</div>
          <div class="cal-day">31</div>
        </div>
      </div>
    </div>
  </section>

  <section class="card scroll-anim rich-block" id="rsvp">
    <div class="corner-heart ch-tl">‚ù§</div>
    <div class="corner-heart ch-tr">‚ù§</div>
    <div class="corner-heart ch-bl">‚ù§</div>
    <div class="corner-heart ch-br">‚ù§</div>

    <div class="inner">
      <h2 class="h">–ö–µ–ª—É—ñ“£—ñ–∑–¥—ñ —Ä–∞—Å—Ç–∞“£—ã–∑</h2>
      <p style="font-size: 15px; margin-bottom: 20px; opacity: 0.9;">
        –¢”©–º–µ–Ω–¥–µ–≥—ñ —Å–∞—É–∞–ª–Ω–∞–º–∞–Ω—ã —Ç–æ–ª—Ç—ã—Ä—É—ã“£—ã–∑–¥—ã —Å“±—Ä–∞–π–º—ã–∑:
      </p>

      <form class="form" id="rsvpForm">
        <div class="field">
          <label for="guestName">–ê—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑</label>
          <input id="guestName" type="text" placeholder="–ú—ã—Å–∞–ª—ã: –ê—Ä–º–∞–Ω –∂”ô–Ω–µ ”ò–π–≥–µ—Ä—ñ–º" required>
        </div>

        <div class="field">
          <label>“ö–∞—Ç—ã—Å—É —Å—Ç–∞—Ç—É—Å—ã</label>
          <div class="choices">
            <label class="choice">
              <input type="radio" name="status" value="–ò”ô, –∫–µ–ª–µ–º—ñ–Ω" required>
              <span>–ò”ô, –º—ñ–Ω–¥–µ—Ç—Ç—ñ —Ç“Ø—Ä–¥–µ –∫–µ–ª–µ–º—ñ–Ω!</span>
            </label>
            <label class="choice">
              <input type="radio" name="status" value="–ñ“±–±—ã–º–º–µ–Ω –∫–µ–ª–µ–º—ñ–Ω">
              <span>–ñ“±–±—ã–º–º–µ–Ω –∫–µ–ª–µ–º—ñ–Ω</span>
            </label>
            <label class="choice">
              <input type="radio" name="status" value="”®–∫—ñ–Ω—ñ—à–∫–µ –æ—Ä–∞–π, “õ–∞—Ç—ã—Å–∞ –∞–ª–º–∞–π–º—ã–Ω">
              <span>”®–∫—ñ–Ω—ñ—à–∫–µ –æ—Ä–∞–π, –∫–µ–ª–µ –∞–ª–º–∞–π–º—ã–Ω</span>
            </label>
          </div>
        </div>

        <button class="btn primary" type="submit">–ñ—ñ–±–µ—Ä—É ‚úÖ</button>
        <div class="toast" id="rsvpToast"></div>
      </form>
    </div>
  </section>

  <footer style="text-align: center;">
    <p>–ï—Ä–∞—Å—ã–ª <span class="heart-beat">‚ù§</span> –ñ–∞–Ω—ç–ª—å ‚Ä¢ 2026</p>
  </footer>

</main>

<script>
  // ==========================================
  // GOOGLE SCRIPT URL
  // ==========================================
  const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbwk3fB9_crHAA5pFPTQkaUwBXpjiTlFcIiD9xyslZ-g6Uk4cW3WyTNQstEMgB3eStEh/exec"; 
  // ==========================================

  // 1. SCROLL ANIMATION
  const observerOptions = { threshold: 0.1 };
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
        observer.unobserve(entry.target); 
      }
    });
  }, observerOptions);
  document.querySelectorAll('.scroll-anim').forEach(el => observer.observe(el));

  // 2. PETALS
  function createPetals() {
    const container = document.getElementById('petals-container');
    const petalCount = 12; 
    for (let i = 0; i < petalCount; i++) {
      const petal = document.createElement('div');
      petal.classList.add('petal');
      const size = Math.random() * 10 + 5;
      const left = Math.random() * 100;
      const duration = Math.random() * 5 + 10;
      const delay = Math.random() * 10;
      petal.style.width = `${size}px`;
      petal.style.height = `${size}px`;
      petal.style.left = `${left}%`;
      petal.style.animationDuration = `${duration}s`;
      petal.style.animationDelay = `-${delay}s`;
      container.appendChild(petal);
    }
  }
  createPetals();

  // 3. MUSIC PLAYER LOGIC
  const audio = document.getElementById('bgm');
  const btn = document.getElementById('musicBtn');
  let playing = false;

  function playFrom30() {
    if (!audio) return;
    try { audio.currentTime = 30; } catch(e){}; 
    audio.play().then(() => {
        playing = true;
        setBtn(true);
    }).catch(e => console.log("Audio waiting for interaction"));
  }

  function setBtn(state){
    if(!btn) return;
    btn.innerHTML = state ? "‚è∏Ô∏è –°—Ç–æ–ø" : "üéµ ”ò—É–µ–Ω–¥—ñ “õ–æ—Å—É";
    btn.classList.toggle('primary', !state); 
    btn.classList.toggle('secondary', state);
  }

  btn.onclick = (e) => {
    e.stopPropagation(); // –ß—Ç–æ–±—ã –∫–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ –Ω–µ –ª–æ–º–∞–ª –ª–æ–≥–∏–∫—É –∞–≤—Ç–æ-—Å—Ç–∞—Ä—Ç–∞
    if(!playing){
      playFrom30();
    } else {
      audio.pause();
      playing = false;
      setBtn(false);
    }
  };

  // 4. COUNTDOWN
  const eventDate = new Date('2026-07-04T18:00:00+05:00').getTime();
  const cd = document.getElementById("countdown");

  function renderCountdown(){
    const diff = eventDate - Date.now();
    if (diff < 0) { 
      cd.innerHTML = "<div style='font-size:20px; font-weight:bold; color:#d4af37'>–¢–æ–π –±“Ø–≥—ñ–Ω! üéâ</div>"; 
      return false;
    }
    const d = Math.floor(diff / (1000*60*60*24));
    const h = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
    const m = Math.floor((diff % (1000*60*60)) / (1000*60));
    const s = Math.floor((diff % (1000*60)) / 1000);

    cd.innerHTML = `
      <div class="cd-item"><div class="cd-num">${d}</div><div class="cd-lbl">–ö“Ø–Ω</div></div>
      <div class="cd-item"><div class="cd-num">${h}</div><div class="cd-lbl">–°–∞“ì</div></div>
      <div class="cd-item"><div class="cd-num">${m}</div><div class="cd-lbl">–ú–∏–Ω</div></div>
      <div class="cd-item"><div class="cd-num">${s}</div><div class="cd-lbl">–°–µ–∫</div></div>
    `;
    return true;
  }
  renderCountdown();
  setInterval(renderCountdown, 1000);

  // 5. RSVP -> GOOGLE SHEETS
  const rsvpForm = document.getElementById("rsvpForm");
  const rsvpToast = document.getElementById("rsvpToast");

  function toast(msg, isError = false){
    if(!rsvpToast) return;
    rsvpToast.textContent = msg;
    rsvpToast.style.color = isError ? "#d32f2f" : "#2E7D32";
    rsvpToast.style.borderColor = isError ? "#ef9a9a" : "#C8E6C9";
    rsvpToast.classList.add("show");
    setTimeout(()=>rsvpToast.classList.remove("show"), 4000);
  }

  rsvpForm?.addEventListener("submit", (e) => {
    e.preventDefault();
    const name = document.getElementById("guestName").value.trim();
    const statusEl = document.querySelector('input[name="status"]:checked');
    if(!name || !statusEl){ toast("”®—Ç—ñ–Ω–µ–º—ñ–∑, –∞—Ç—ã-–∂”©–Ω—ñ“£—ñ–∑–¥—ñ –∂–∞–∑—ã“£—ã–∑!", true); return; }
    
    const btn = rsvpForm.querySelector('button');
    const originalBtnText = btn.innerHTML;
    btn.disabled = true; btn.innerHTML = "–ñ—ñ–±–µ—Ä—ñ–ª—É–¥–µ...";

    fetch(SCRIPT_URL, {
        method: 'POST', mode: 'no-cors', 
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name: name, status: statusEl.value })
    })
    .then(() => { toast(`–†–∞—Ö–º–µ—Ç, ${name}! –ñ–∞—É–∞–±—ã“£—ã–∑ —Å”ô—Ç—Ç—ñ –∂–µ—Ç–∫—ñ–∑—ñ–ª–¥—ñ ü§ç`); rsvpForm.reset(); })
    .catch(err => { toast("“ö–∞—Ç–µ –æ—Ä—ã–Ω –∞–ª–¥—ã. “ö–∞–π—Ç–∞–ª–∞–ø –∫”©—Ä—ñ“£—ñ–∑.", true); })
    .finally(() => { btn.disabled = false; btn.innerHTML = originalBtnText; });
  });

  // ==========================================
  // 6. –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–´–ô –°–¢–ê–†–¢ (TOUCH TO START)
  // ==========================================
  
  let hasStarted = false; // –ë—ã–ª –ª–∏ —É–∂–µ —Å—Ç–∞—Ä—Ç
  let isScrolling = false; // –ò–¥–µ—Ç –ª–∏ —Å–µ–π—á–∞—Å –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
  let stopScrollSignal = false; // –°–∏–≥–Ω–∞–ª –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏

  // –°–∫–æ—Ä–æ—Å—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
  const scrollSpeed = 1.2; 

  function scrollLoop() {
      if (stopScrollSignal) {
          isScrolling = false;
          return;
      }
      
      window.scrollBy(0, scrollSpeed);
      
      // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –Ω–∏–∑–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã - —Å—Ç–æ–ø
      if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {
          stopScrollSignal = true;
          isScrolling = false;
          return;
      }

      requestAnimationFrame(scrollLoop);
  }

  function startEverything() {
      if (hasStarted) return;
      hasStarted = true;

      // 1. –í–∫–ª—é—á–∞–µ–º –º—É–∑—ã–∫—É
      playFrom30();

      // 2. –í–∫–ª—é—á–∞–µ–º —Å–∫—Ä–æ–ª–ª
      isScrolling = true;
      scrollLoop();

      // 3. –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –≤–µ—à–∞–µ–º "—Å–ª—É—à–∞—Ç–µ–ª–µ–π" –Ω–∞ –û–°–¢–ê–ù–û–í–ö–£
      // (—á—Ç–æ–±—ã –ø–µ—Ä–≤–æ–µ –∫–∞—Å–∞–Ω–∏–µ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ —Å—Ä–∞–∑—É –∂–µ)
      setTimeout(() => {
          const stopAction = () => {
              if (isScrolling) {
                  stopScrollSignal = true; // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª
                  // –ú—É–∑—ã–∫—É –ù–ï —Ç—Ä–æ–≥–∞–µ–º, –ø—É—Å—Ç—å –∏–≥—Ä–∞–µ—Ç
              }
          };

          window.addEventListener('pointerdown', stopAction, { once: true });
          window.addEventListener('wheel', stopAction, { once: true });
          window.addEventListener('touchstart', stopAction, { once: true });
      }, 1000);
  }

  // –ñ–¥–µ–º –ü–ï–†–í–û–ì–û –∫–∞—Å–∞–Ω–∏—è –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Å–∞–π—Ç–∞
  window.addEventListener('pointerdown', startEverything, { once: true });
  window.addEventListener('touchstart', startEverything, { once: true }); // –î–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ iOS

</script>

</body>

</html>

